
rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Izinkan pengguna yang sudah login (admin) untuk menulis ke path rekap bulanan.
    // Izin baca publik diperlukan agar URL unduhan dapat diakses oleh server WhatsApp.
    match /monthly-recaps/{allPaths=**} {
      allow read;
      allow write: if request.auth != null;
    }
  }
}
